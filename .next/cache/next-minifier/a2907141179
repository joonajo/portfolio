{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{\"9Jkg\":function(e,t,n){e.exports=n(\"oh+g\")},XQTS:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin\",function(){return n(\"tg/1\")}])},\"oh+g\":function(e,t,n){var o=n(\"WEpk\"),a=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},\"tg/1\":function(e,t,n){\"use strict\";n.r(t);var o=n(\"q1tI\"),a=n(\"pLtp\"),i=n.n(a),r=n(\"doui\"),l=n(\"hfKm\"),c=n.n(l),s=n(\"2Eek\"),u=n.n(s),d=n(\"XoMD\"),p=n.n(d),m=n(\"Jo+v\"),f=n.n(m),v=n(\"4mXO\"),g=n.n(v),h=n(\"kOwS\"),k=n(\"vYYK\"),b=n(\"9Jkg\"),w=n.n(b),y=n(\"rCmD\"),I=n(\"IP2g\"),N=o.createElement;function j(e,t){var n=i()(e);if(g.a){var o=g()(e);t&&(o=o.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,o)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(k.a)(e,t,n[t])})):p.a?u()(e,p()(n)):j(Object(n)).forEach((function(t){c()(e,t,f()(n,t))}))}return e}var T,C=n(\"/JgI\"),E={email:{id:\"email\",inputType:\"email\",placeholder:\"email\",require:!0,value:\"\",className:C.EmailInput,icon:{focus:y.a.faEnvelopeOpen,unfocus:y.a.faEnvelope}},password:{id:\"password\",inputType:\"password\",placeholder:\"password\",require:!0,value:\"\",className:C.PasswordInput,icon:{focus:y.a.faUnlock,unfocus:y.a.faLock}}},O=function(e){var t,n=e.submit,a=e.error,l=o.useState(E),c=Object(r.a)(l,2),s=c[0],u=c[1];o.useEffect((function(){var e=function(e){\"Enter\"===e.key&&p()};return window.addEventListener(\"keydown\",e,!0),function(){return window.removeEventListener(\"keydown\",e,!0)}}),[s]);var d=function(e,t){var n=S({},s,Object(k.a)({},e,S({},s[e],{value:t.target.value})));u(n)},p=function(){n(s.email.value,s.password.value)};return N(\"div\",{className:C.AuthFormContainer},N(\"form\",{className:C.AuthForm},i()(s).map((function(e){return N(x,Object(h.a)({key:e},s[e],{changed:d}))}))),(null===a||void 0===a?void 0:a.error)&&N(\"p\",{className:C.ErrorText},null===(t=a.errorInfo)||void 0===t?void 0:t.message),N(\"div\",{className:C.SubmitButton,onClick:p},N(\"p\",null,\"Sign In\"),N(I.a,{icon:y.a.faSignInAlt})))},x=function(e){var t,n=o.useState(!1),a=Object(r.a)(n,2),i=a[0],l=a[1],c=[C.InputContainer,i&&C.focus].join(\" \"),s=[C.InputIcon,i&&C.focus].join(\" \"),u=[C.Span,i&&C.focus].join(\" \");return N(\"div\",{className:c},e.icon&&N(\"div\",{className:C.IconContainer},N(I.a,{className:s,icon:null===(t=e.icon)||void 0===t?void 0:t.unfocus})),N(\"input\",{className:e.className,placeholder:i?\"\":e.placeholder,value:e.value,type:e.inputType,onChange:function(t){return e.changed(e.id,t)},onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}),N(\"span\",{className:u}))},_=function(e){var t=e.setSending,n=e.signIn,a=o.useState({error:!1}),i=Object(r.a)(a,2),l=i[0],c=i[1];return N(\"div\",{className:C.Container},N(O,{submit:function(e,o){t(!0);var a=\"?key=\".concat(\"AIzaSyDoQDgiY3LCUaOApRN_800QwvR8qKm3u94\"),i=w()({email:e,password:o,returnSecureToken:!0});fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword\"+a,{method:\"post\",body:i}).then((function(e){return e.json()})).then((function(e){if(e.error)c({error:!0,errorInfo:{code:e.error.code,message:e.error.message}}),t(!1);else{var o=null===e||void 0===e?void 0:e.idToken,a=null===e||void 0===e?void 0:e.refreshToken,i=null===e||void 0===e?void 0:e.email,r=null===e||void 0===e?void 0:e.password,l=String((new Date).getTime()+1e3*(null===e||void 0===e?void 0:e.expiresIn));localStorage.setItem(\"idToken\",o),localStorage.setItem(\"refreshToken\",a),localStorage.setItem(\"password\",r),localStorage.setItem(\"email\",i),localStorage.setItem(\"expireTime\",l),t(!1),c({error:!1}),n(i,r,o)}}))},error:l}))},D=n(\"SBeq\"),F=n(\"n1og\");function q(e,t){var n=i()(e);if(g.a){var o=g()(e);t&&(o=o.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(k.a)(e,t,n[t])})):p.a?u()(e,p()(n)):q(Object(n)).forEach((function(t){c()(e,t,f()(n,t))}))}return e}!function(e){e.ADD=\"add\",e.EDIT=\"edit\"}(T||(T={}));var A={title:{id:\"title\",elemType:\"input\",type:\"text\",placeholder:\"title\",require:!0,value:\"\"},description:{id:\"description\",elemType:\"textarea\",type:\"text\",placeholder:\"description\",require:!0,value:\"\"},language:{id:\"language\",elemType:\"select\",options:{React:{selected:!1},TypeScript:{selected:!1},JavaScript:{selected:!1},Cpp:{selected:!1},NextJS:{selected:!1}},require:!0,multiple:!0},link:{id:\"link\",elemType:\"input\",type:\"text\",placeholder:\"link to app\",require:!0,value:\"\"},github:{id:\"github\",elemType:\"input\",type:\"text\",placeholder:\"github link\",require:!0,value:\"\"},video_src:{id:\"video_src\",elemType:\"input\",type:\"text\",placeholder:\"video link\",require:!0,value:\"\"},preview_src:{id:\"preview_src\",elemType:\"input\",type:\"text\",placeholder:\"preview video link\",require:!0,value:\"\"},gif_src:{id:\"gif_src\",elemType:\"input\",type:\"text\",placeholder:\"gif link\",require:!0,value:\"\"},desktop:{id:\"desktop\",elemType:\"select\",options:{Yes:{selected:!1},No:{selected:!1}},require:!0},mobile:{id:\"mobile\",elemType:\"select\",options:{Yes:{selected:!1},No:{selected:!1}},require:!0},order:{id:\"order\",elemType:\"input\",type:\"number\",placeholder:\"order in the list\",value:\"\"}},B=n(\"CCsj\"),Y=o.createElement;function L(e,t){var n=i()(e);if(g.a){var o=g()(e);t&&(o=o.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(k.a)(e,t,n[t])})):p.a?u()(e,p()(n)):L(Object(n)).forEach((function(t){c()(e,t,f()(n,t))}))}return e}var R=n(\"U05f\"),M=o.memo((function(e){var t=e.type,n=e.item,o=e.change,a=e.clickOption,r=void 0;switch(n.elemType){case\"input\":r=Y(\"input\",{value:n.value,disabled:t===T.EDIT&&\"title\"===n.id,placeholder:n.placeholder,onChange:function(e){return o(n.id,e)},className:R.FormInput});break;case\"textarea\":r=Y(\"textarea\",{value:n.value,onChange:function(e){return o(n.id,e)},placeholder:n.placeholder,className:R.FormInput,rows:5});break;case\"select\":r=Y(\"div\",{className:R.Select},i()(n.options).map((function(e){var t=n.options[e].selected;return Y(\"div\",{key:n.id+e,className:[R.Option,t&&R.selected].join(\" \"),onClick:function(){return a(n.id,e)}},e)})))}return Y(\"div\",{className:R.FormInputContainer},Y(\"p\",{className:R.FormInputTitle},n.id),r)})),X=function(e){var t=e.show,n=e.sending,a=e.item,l=e.close,c=e.add,s=e.type,u=o.useState(A),d=Object(r.a)(u,2),p=d[0],m=d[1];o.useEffect((function(){if(a){var e=function(e){return J({},A,{title:J({},A.title,{value:e.title}),description:J({},A.description,{value:e.description}),language:J({},A.language,{options:{React:{selected:e.language.includes(\"React\")},TypeScript:{selected:e.language.includes(\"TypeScript\")},JavaScript:{selected:e.language.includes(\"JavaScript\")},Cpp:{selected:e.language.includes(\"Cpp\")},NextJS:{selected:e.language.includes(\"NextJS\")}}}),link:J({},A.link,{value:e.link}),github:J({},A.github,{value:e.githubLink}),video_src:J({},A.video_src,{value:e.video_src}),preview_src:J({},A.preview_src,{value:e.preview_src}),gif_src:J({},A.gif_src,{value:e.gif_src}),desktop:J({},A.desktop,{options:{Yes:{selected:e.desktop},No:{selected:!e.desktop}}}),mobile:J({},A.mobile,{options:{Yes:{selected:e.mobile},No:{selected:!e.mobile}}})})}(a);m(e)}}),[a]);var f=function(e,t){var n=P({},p);n=P({},p,\"language\"===e?Object(k.a)({},e,P({},p[e],{options:P({},p[e].options,Object(k.a)({},t,P({},p[e].options[t],{selected:!p[e].options[t].selected})))})):Object(k.a)({},e,P({},p[e],{options:{Yes:{selected:\"Yes\"===t},No:{selected:\"No\"===t}}}))),m(n)},v=function(e,t){var n=P({},p);n=P({},p,Object(k.a)({},e,P({},p[e],{value:t.target.value}))),m(n)},g=[R.ItemForm,t&&R.show].join(\" \"),h=[R.FormBackdrop,t&&R.show].join(\" \");return Y(o.Fragment,null,Y(\"form\",{className:g},n&&Y(\"div\",{className:R.Loading},Y(B.a,null)),Y(I.a,{className:R.FormCloseButton,icon:y.a.faTimes,onClick:l}),i()(p).map((function(e){return Y(M,{key:e,type:s,item:p[e],change:v,clickOption:f})})),Y(\"div\",{className:R.FormAddButton,onClick:function(){var e=i()(p.language.options).filter((function(e){return p.language.options[e].selected}));0===e.length&&(e=[\"React\"]);var t={title:p.title.value,language:e,description:p.description.value,link:p.link.value,githubLink:p.github.value,video_src:p.video_src.value,preview_src:p.preview_src.value,gif_src:p.gif_src.value,desktop:p.desktop.options.Yes.selected,mobile:p.mobile.options.Yes.selected,order:p.order.value};c(t)}},Y(\"p\",null,s))),Y(\"div\",{className:h}))},W=n(\"IOxB\"),K=o.createElement,Q=n(\"s9Tc\"),U=function(){var e=o.useState(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],i=o.useState(!1),l=Object(r.a)(i,2),c=l[0],s=l[1],u=o.useContext(D.a);return K(o.Fragment,null,K(\"div\",{className:Q.AddItemContainer},K(\"span\",{className:Q.AddItemButton,onClick:function(){a(!0)}},\"add item \",K(I.a,{icon:y.a.faPlus,className:Q.AddItemIcon})),K(X,{type:T.ADD,show:n,close:function(){return a(!1)},add:function(e){if(u.state.signedIn){s(!0);var t=e.title+\".json\",n=\"?auth=\".concat(u.state.idToken);fetch(\"https://joonajo-portfolio.firebaseio.com/items/\"+t+n,{method:\"put\",body:w()(e)}).then((function(e){return e.json().then((function(e){s(!1),a(!1)}))}))}},sending:c})),K(W.a,{show:c,transparent:!0,fadeout:!0}))},H=o.createElement,z=n(\"hmKf\"),G=function(e){var t=e.show,n=e.item,a=e.close,i=o.useState(!1),l=Object(r.a)(i,2),c=l[0],s=l[1],u=o.useContext(D.a),d=[z.EditItemContainer,t&&z.show].join(\" \");return H(o.Fragment,null,H(\"div\",{className:d},H(X,{type:T.EDIT,show:t,sending:c,item:n,close:a,add:function(e){if(u.state.signedIn){s(!0);var t=e.title+\".json\",n=\"?auth=\".concat(u.state.idToken);fetch(\"https://joonajo-portfolio.firebaseio.com/items/\"+t+n,{method:\"put\",body:w()(e)}).then((function(e){return e.json().then((function(e){s(!1)}))})),a()}}})),H(W.a,{show:c,transparent:!0,fadeout:!0}))},V=o.createElement,Z=n(\"wR/g\"),$=function(e){var t=e.confirm,n=e.cancel;return V(o.Fragment,null,V(\"div\",{className:Z.ConfirmDeleteContainer},V(\"h2\",{className:Z.ConfirmDeleteText},\"Confirm Delete\"),V(\"div\",{className:Z.ConfirmDeleteButtons},V(\"p\",{onClick:t},\"Delete\"),V(\"p\",{onClick:n},\"Cancel\"))),V(\"div\",{className:Z.ConfirmBackdrop}))},ee=function(e){var t=e.item,n=e.deleteItem,a=o.useState(!1),i=Object(r.a)(a,2),l=i[0],c=i[1],s=o.useState(!1),u=Object(r.a)(s,2),d=u[0],p=u[1],m=function(){p(!d)};return V(o.Fragment,null,V(\"div\",{className:Z.ItemContainer},V(\"div\",{className:Z.ItemMainContent},V(\"p\",null,t.title)),V(\"div\",{className:Z.ItemHoverContent},V(\"div\",{onClick:m},\" \",V(I.a,{icon:y.a.faEdit}),\" \",V(\"p\",null,\"edit\"),\" \"),V(\"div\",{onClick:function(){c(!0)}},\" \",V(I.a,{icon:y.a.faTrash}),\" \",V(\"p\",null,\"delete\"),\" \"))),V(G,{show:d,item:t,close:m}),l&&V($,{confirm:function(){return n(t.title)},cancel:function(){return c(!1)}}))},te=o.createElement,ne=n(\"kgzG\"),oe=function(e){var t=e.items,n=o.useState(!1),a=Object(r.a)(n,2),i=a[0],l=a[1],c=o.useContext(D.a),s=o.useContext(F.a),u=function(e){if(c.state.signedIn){l(!0);var t=\"\".concat(e,\".json\"),n=\"?auth=\".concat(c.state.idToken);fetch(\"https://joonajo-portfolio.firebaseio.com/items/\"+t+n,{method:\"delete\"}).then((function(e){return e.json()})).then((function(t){console.log(\"succesfully deleted\",e),l(!1),s.dispatch({type:F.c.DELETE_ITEM,payload:e})}))}};return te(o.Fragment,null,te(\"div\",{className:ne.ItemsContainer},t&&t.map((function(e){return te(ee,{key:e.title,item:e,deleteItem:u})})),te(U,null)),te(W.a,{show:i,transparent:!0,fadeout:!0}))},ae=o.createElement,ie=n(\"MBNL\"),re=function(){var e=o.useContext(F.a),t=e.state,n=e.dispatch,a=o.useState(!0),l=Object(r.a)(a,2),c=l[0],s=l[1];return o.useEffect((function(){if(0===t.items.length){var e=[];fetch(\"https://joonajo-portfolio.firebaseio.com/items.json\",{method:\"get\"}).then((function(e){return e.json()})).then((function(t){t&&(i()(t).forEach((function(n){e.push(t[n])})),n({type:F.c.SET_ITEMS,payload:e})),s(!1)}))}else s(!1)}),[t]),ae(o.Fragment,null,ae(\"div\",{className:ie.AdminContentWrapper},!c&&ae(oe,{items:t.items})),ae(W.a,{show:c,transparent:!0,fadeout:!0}))},le=function(){var e=o.useContext(D.a),t=e.state,n=e.dispatch,a=o.useState(!0),i=Object(r.a)(a,2),l=i[0],c=i[1],s=o.useState(),u=Object(r.a)(s,2),d=u[0],p=u[1];o.useEffect((function(){if(document.title=\"Portfolio // Admin\",p({width:window.innerWidth,height:window.innerHeight}),0!==localStorage.length){var e=localStorage.getItem(\"expireTime\");if(e)if((new Date).getTime()<+e){var t={email:localStorage.getItem(\"email\"),password:localStorage.getItem(\"password\"),idToken:localStorage.getItem(\"idToken\")};n({type:\"signin\",payload:t}),c(!1)}else localStorage.clear(),c(!1)}else c(!1)}),[]);return ae(\"div\",{className:ie.Main,style:{minHeight:\"\".concat(null===d||void 0===d?void 0:d.height,\"px\"),minWidth:\"\".concat(null===d||void 0===d?void 0:d.width,\"px\")}},!t.signedIn&&ae(_,{setSending:c,signIn:function(e,t,o){n({type:\"signin\",payload:{email:e,password:t,idToken:o}})}}),t.signedIn&&ae(re,{token:t.idToken}),ae(W.a,{show:l,transparent:!0,fadeout:!0}))},ce=o.createElement;n(\"rUxq\"),t.default=function(){return ce(le,null)}}},[[\"XQTS\",1,0,2]]]);"}