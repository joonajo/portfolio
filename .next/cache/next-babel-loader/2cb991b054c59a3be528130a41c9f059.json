{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { formTypes } from '../../../form/form';\nimport ItemForm from '../ItemForm/ItemForm';\nimport { AuthContext } from '../../../context/authContext';\nimport Loading from '../../UI/Loading/Loading';\n\nvar css = require('./EditItem.module.css');\n\nvar EditItem = function EditItem(_ref) {\n  var show = _ref.show,\n      item = _ref.item,\n      close = _ref.close;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sending = _React$useState2[0],\n      setSending = _React$useState2[1];\n\n  var authContext = React.useContext(AuthContext);\n\n  var editItem = function editItem(item) {\n    if (authContext.state.signedIn) {\n      setSending(true);\n      var baseURL = 'https://joonajo-portfolio.firebaseio.com/items/';\n      var title = item.title + \".json\";\n      var tokenParam = \"?auth=\".concat(authContext.state.idToken);\n      fetch(baseURL + title + tokenParam, {\n        method: 'put',\n        body: _JSON$stringify(item)\n      }).then(function (response) {\n        return response.json().then(function (data) {\n          setSending(false);\n        });\n      });\n      close();\n    }\n  };\n\n  var containerStyles = [css.EditItemContainer, show && css.show].join(' ');\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: containerStyles\n  }, __jsx(ItemForm, {\n    type: formTypes.EDIT,\n    show: show,\n    sending: sending,\n    item: item,\n    close: close,\n    add: editItem\n  })), __jsx(Loading, {\n    show: sending,\n    transparent: true,\n    fadeout: true\n  }));\n};\n\nexport default EditItem;","map":null,"metadata":{},"sourceType":"module"}