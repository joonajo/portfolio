{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport { googleKey } from '../../keys';\nimport { icons } from '../../icons/icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nvar css = require('./Auth.module.css');\n\nvar Auth = function Auth(_ref) {\n  var setSending = _ref.setSending,\n      signIn = _ref.signIn;\n\n  var _React$useState = React.useState({\n    error: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      error = _React$useState2[0],\n      setError = _React$useState2[1];\n\n  var signInHandler = function signInHandler(email, password) {\n    setSending(true);\n    var baseURL = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword\";\n    var apiKey = \"?key=\".concat(googleKey);\n    var payload = JSON.stringify({\n      email: email,\n      password: password,\n      returnSecureToken: true\n    });\n    fetch(baseURL + apiKey, {\n      method: 'post',\n      body: payload\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.error) {\n        setError({\n          error: true,\n          errorInfo: {\n            code: data.error.code,\n            message: data.error.message\n          }\n        });\n        setSending(false);\n      } else {\n        // console.log(data)\n        var _idToken = data === null || data === void 0 ? void 0 : data.idToken;\n\n        var refreshToken = data === null || data === void 0 ? void 0 : data.refreshToken;\n\n        var _email = data === null || data === void 0 ? void 0 : data.email;\n\n        var _password = data === null || data === void 0 ? void 0 : data.password;\n\n        var expireTime = String(new Date().getTime() + (data === null || data === void 0 ? void 0 : data.expiresIn) * 1000);\n        localStorage.setItem('idToken', _idToken);\n        localStorage.setItem('refreshToken', refreshToken);\n        localStorage.setItem('password', _password);\n        localStorage.setItem('email', _email);\n        localStorage.setItem('expireTime', expireTime);\n        setSending(false);\n        setError({\n          error: false\n        });\n        signIn(_email, _password, _idToken);\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: css.Container\n  }, __jsx(AuthForm, {\n    submit: signInHandler,\n    error: error\n  }));\n};\n\nvar initialAuthFormState = {\n  email: {\n    id: 'email',\n    inputType: 'email',\n    placeholder: 'email',\n    require: true,\n    value: '',\n    className: css.EmailInput,\n    icon: {\n      focus: icons.faEnvelopeOpen,\n      unfocus: icons.faEnvelope\n    }\n  },\n  password: {\n    id: 'password',\n    inputType: 'password',\n    placeholder: 'password',\n    require: true,\n    value: '',\n    className: css.PasswordInput,\n    icon: {\n      focus: icons.faUnlock,\n      unfocus: icons.faLock\n    }\n  }\n};\n\nvar AuthForm = function AuthForm(_ref2) {\n  var _error$errorInfo;\n\n  var submit = _ref2.submit,\n      error = _ref2.error;\n\n  var _React$useState3 = React.useState(initialAuthFormState),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      formState = _React$useState4[0],\n      setFormState = _React$useState4[1];\n\n  React.useEffect(function () {\n    var keyHandler = function keyHandler(event) {\n      if (event.key === 'Enter') {\n        signInHandler();\n      }\n    };\n\n    window.addEventListener('keydown', keyHandler, true);\n    return function () {\n      return window.removeEventListener('keydown', keyHandler, true);\n    };\n  }, [formState]);\n\n  var changeHandler = function changeHandler(elemKey, event) {\n    var updatedFormState = _objectSpread({}, formState, _defineProperty({}, elemKey, _objectSpread({}, formState[elemKey], {\n      value: event.target.value\n    })));\n\n    setFormState(updatedFormState);\n  };\n\n  var signInHandler = function signInHandler() {\n    submit(formState.email.value, formState.password.value);\n  };\n\n  return __jsx(\"div\", {\n    className: css.AuthFormContainer\n  }, __jsx(\"form\", {\n    className: css.AuthForm\n  }, Object.keys(formState).map(function (elementKey) {\n    return __jsx(InputComponent, _extends({\n      key: elementKey\n    }, formState[elementKey], {\n      changed: changeHandler\n    }));\n  })), (error === null || error === void 0 ? void 0 : error.error) && __jsx(\"p\", {\n    className: css.ErrorText\n  }, (_error$errorInfo = error.errorInfo) === null || _error$errorInfo === void 0 ? void 0 : _error$errorInfo.message), __jsx(\"div\", {\n    className: css.SubmitButton,\n    onClick: signInHandler\n  }, __jsx(\"p\", null, \"Sign In\"), __jsx(FontAwesomeIcon, {\n    icon: icons.faSignInAlt\n  })));\n};\n\nvar InputComponent = function InputComponent(props) {\n  var _props$icon;\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isFocused = _React$useState6[0],\n      setIsFocused = _React$useState6[1];\n\n  var containerClasses = [css.InputContainer, isFocused && css.focus].join(' ');\n  var iconClasses = [css.InputIcon, isFocused && css.focus].join(' ');\n  var spanClasses = [css.Span, isFocused && css.focus].join(' ');\n  return __jsx(\"div\", {\n    className: containerClasses\n  }, props.icon && __jsx(\"div\", {\n    className: css.IconContainer\n  }, __jsx(FontAwesomeIcon, {\n    className: iconClasses,\n    icon: (_props$icon = props.icon) === null || _props$icon === void 0 ? void 0 : _props$icon.unfocus\n  })), __jsx(\"input\", {\n    className: props.className,\n    placeholder: !isFocused ? props.placeholder : '',\n    value: props.value,\n    type: props.inputType,\n    onChange: function onChange(e) {\n      return props.changed(props.id, e);\n    },\n    onFocus: function onFocus() {\n      return setIsFocused(true);\n    },\n    onBlur: function onBlur() {\n      return setIsFocused(false);\n    }\n  }), __jsx(\"span\", {\n    className: spanClasses\n  }));\n};\n\nexport default Auth;","map":{"version":3,"sources":["C:/Users/jouna/code/portfolio/containers/Auth/Auth.tsx"],"names":["React","googleKey","icons","FontAwesomeIcon","css","require","Auth","setSending","signIn","useState","error","setError","signInHandler","email","password","baseURL","apiKey","payload","JSON","stringify","returnSecureToken","fetch","method","body","then","response","json","data","errorInfo","code","message","idToken","refreshToken","expireTime","String","Date","getTime","expiresIn","localStorage","setItem","Container","initialAuthFormState","id","inputType","placeholder","value","className","EmailInput","icon","focus","faEnvelopeOpen","unfocus","faEnvelope","PasswordInput","faUnlock","faLock","AuthForm","submit","formState","setFormState","useEffect","keyHandler","event","key","window","addEventListener","removeEventListener","changeHandler","elemKey","updatedFormState","target","AuthFormContainer","Object","keys","map","elementKey","ErrorText","SubmitButton","faSignInAlt","InputComponent","props","isFocused","setIsFocused","containerClasses","InputContainer","join","iconClasses","InputIcon","spanClasses","Span","IconContainer","e","changed"],"mappings":"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","sourcesContent":["import * as React from 'react'\r\n\r\nimport { googleKey } from '../../keys'\r\nimport { icons } from '../../icons/icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst css = require('./Auth.module.css')\r\n\r\ninterface IError {\r\n    error: boolean\r\n    errorInfo?: {\r\n        code: string\r\n        message: string\r\n    }\r\n}\r\n\r\ninterface IAuthComponent {\r\n    setSending: (newSending: boolean) => void\r\n    signIn: (email: string, password: string, idToken: string) => void\r\n}\r\n\r\nconst Auth: React.FunctionComponent<IAuthComponent> = ({ setSending, signIn }): JSX.Element => {\r\n    const [error, setError] = React.useState<IError>({ error: false })\r\n\r\n    const signInHandler = (email: string, password: string) =>  {\r\n        setSending(true)\r\n        const baseURL: string =\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword\"\r\n        const apiKey: string = `?key=${googleKey}`\r\n        const payload = JSON.stringify({\r\n            email: email,\r\n            password: password,\r\n            returnSecureToken: true\r\n        })\r\n        \r\n         fetch(baseURL + apiKey, { method: 'post', body: payload }).then(response => response.json()\r\n            ).then(data => {\r\n                if (data.error) {\r\n                    setError({ \r\n                        error: true, \r\n                        errorInfo: { \r\n                            code: data.error.code,\r\n                            message: data.error.message\r\n                        }\r\n                    })\r\n                    setSending(false)\r\n                } else {\r\n                    // console.log(data)\r\n                    const idToken: string = data?.idToken\r\n                    const refreshToken: string = data?.refreshToken\r\n                    const email: string = data?.email\r\n                    const password: string = data?.password\r\n                    const expireTime: string = String(new Date().getTime() + data?.expiresIn * 1000)\r\n                    localStorage.setItem('idToken', idToken)\r\n                    localStorage.setItem('refreshToken', refreshToken)\r\n                    localStorage.setItem('password', password)\r\n                    localStorage.setItem('email', email)\r\n                    localStorage.setItem('expireTime', expireTime)\r\n                    setSending(false)\r\n                    setError({ error: false })\r\n                    signIn(email, password, idToken)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={css.Container}>\r\n            <AuthForm submit={signInHandler} error={error} />\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface IFormElement {\r\n    id: string\r\n    inputType: string\r\n    value: string\r\n    placeholder?: string\r\n    require?: boolean\r\n    className?: string\r\n    icon? : { focus?: any, unfocus?: any }\r\n}\r\n\r\ninterface IFormState {\r\n    [email: string]: IFormElement\r\n    password: IFormElement\r\n}\r\n\r\nconst initialAuthFormState: IFormState = {\r\n    email: {\r\n        id: 'email',\r\n        inputType: 'email',\r\n        placeholder: 'email',\r\n        require: true,\r\n        value: '',\r\n        className: css.EmailInput,\r\n        icon: { focus: icons.faEnvelopeOpen, unfocus: icons.faEnvelope }\r\n    },\r\n    password: {\r\n        id: 'password',\r\n        inputType: 'password',\r\n        placeholder: 'password',\r\n        require: true,\r\n        value: '',\r\n        className: css.PasswordInput,\r\n        icon: { focus: icons.faUnlock, unfocus: icons.faLock }\r\n    },\r\n}\r\n\r\ninterface IAuthForm {\r\n    submit: (email: string, password: string) => void\r\n    error?: IError\r\n}\r\n\r\nconst AuthForm: React.FunctionComponent<IAuthForm> = ({ submit, error }): JSX.Element => {\r\n    const [formState, setFormState] = React.useState<IFormState>(initialAuthFormState)\r\n\r\n    React.useEffect(() => {\r\n        const keyHandler = (event: KeyboardEvent) => {\r\n            if (event.key === 'Enter') {\r\n                signInHandler()\r\n            }\r\n        }\r\n\r\n        window.addEventListener('keydown', keyHandler, true)\r\n\r\n        return () => window.removeEventListener('keydown', keyHandler, true)\r\n    }, [formState])\r\n\r\n    const changeHandler = (elemKey: string, event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const updatedFormState: IFormState = {\r\n            ...formState,\r\n            [elemKey]: {\r\n                ...formState[elemKey],\r\n                value: event.target.value\r\n            }\r\n        }\r\n        setFormState(updatedFormState)\r\n    }\r\n\r\n    const signInHandler = () => {\r\n        submit(formState.email.value, formState.password.value)\r\n    }\r\n\r\n    return (\r\n        <div className={css.AuthFormContainer}>\r\n            {/* <h2 className={css.FormTitle}>Admin Auth</h2> */}\r\n            <form className={css.AuthForm}>\r\n                { Object.keys(formState).map((elementKey: string) => {\r\n                    return (\r\n                        <InputComponent key={elementKey} {...formState[elementKey]} changed={changeHandler} />\r\n                    )\r\n                })}\r\n            </form>\r\n            { error?.error && <p className={css.ErrorText}>{error.errorInfo?.message}</p> }\r\n            <div className={css.SubmitButton} onClick={signInHandler}>\r\n                <p>Sign In</p>\r\n                <FontAwesomeIcon icon={icons.faSignInAlt} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface IInputComponent extends IFormElement {\r\n    changed: (elemKey: string, event: React.ChangeEvent<HTMLInputElement>) => void\r\n}\r\n\r\nconst InputComponent: React.FunctionComponent<IInputComponent> = (props): JSX.Element => {\r\n    const [isFocused, setIsFocused] = React.useState<boolean>(false)\r\n\r\n    const containerClasses = [\r\n        css.InputContainer,\r\n        isFocused && css.focus,\r\n    ].join(' ')\r\n\r\n    const iconClasses = [\r\n        css.InputIcon,\r\n        isFocused && css.focus\r\n    ].join(' ')\r\n\r\n    const spanClasses = [\r\n        css.Span,\r\n        isFocused && css.focus\r\n    ].join(' ')\r\n\r\n    return (\r\n        <div className={containerClasses}>\r\n            { props.icon &&  \r\n                <div className={css.IconContainer}>\r\n                    <FontAwesomeIcon className={iconClasses} icon={props.icon?.unfocus} />\r\n                </div>\r\n            }\r\n            <input className={props.className} \r\n                placeholder={!isFocused ? props.placeholder : ''}\r\n                value={props.value} \r\n                type={props.inputType}\r\n                onChange={(e) => props.changed(props.id, e)}\r\n                onFocus={() => setIsFocused(true)}\r\n                onBlur={() => setIsFocused(false)} /> \r\n            <span className={spanClasses}></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Auth"]},"metadata":{},"sourceType":"module"}