{"ast":null,"code":"var __jsx = React.createElement;\nimport * as React from 'react';\n\nconst css = require('./Portfolio.module.css');\n\nimport AddPortfolioItem from '../AddNewItem/AddItem';\nimport { AuthContext } from '../../../context/authContext';\nimport { PortfolioContext, TPortfolioActionTypes } from '../../../context/portfolioContext';\nimport PortfolioItem from './Item/Item';\nimport Loading from '../../UI/Loading/Loading';\n\nconst PortfolioItems = ({\n  items\n}) => {\n  const [sending, setSsending] = React.useState(false);\n  const authContext = React.useContext(AuthContext);\n  const portfolioContext = React.useContext(PortfolioContext);\n\n  const deleteItem = itemTitle => {\n    if (authContext.state.signedIn) {\n      setSsending(true);\n      const baseURL = \"https://joonajo-portfolio.firebaseio.com/items/\";\n      const itemParam = `${itemTitle}.json`;\n      const tokenParam = `?auth=${authContext.state.idToken}`;\n      fetch(baseURL + itemParam + tokenParam, {\n        method: 'delete'\n      }).then(response => response.json()).then(data => {\n        console.log('succesfully deleted', itemTitle);\n        setSsending(false);\n        portfolioContext.dispatch({\n          type: TPortfolioActionTypes.DELETE_ITEM,\n          payload: itemTitle\n        });\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: css.ItemsContainer\n  }, items && items.map(item => {\n    return __jsx(PortfolioItem, {\n      key: item.title,\n      item: item,\n      deleteItem: deleteItem\n    });\n  }), __jsx(AddPortfolioItem, null)), __jsx(Loading, {\n    show: sending,\n    transparent: true,\n    fadeout: true\n  }));\n};\n\nexport default PortfolioItems;","map":null,"metadata":{},"sourceType":"module"}