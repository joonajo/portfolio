{"version":3,"file":"static/webpack/static\\development\\pages\\admin.js.c000a2fc95071eec96e4.hot-update.js","sources":["webpack:///./components/Admin/EditItem/EditItem.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { formTypes } from '../../../form/form'\r\nimport ItemForm from '../ItemForm/ItemForm'\r\nimport { IPortfolioItem } from '../../../interfaces/interfaces'\r\nimport { IAuthContext, AuthContext } from '../../../context/authContext'\r\nimport { IPortfolioContext, PortfolioContext, TPortfolioActionTypes } from '../../../context/portfolioContext'\r\nimport Loading from '../../UI/Loading/Loading'\r\n\r\nconst css = require('./EditItem.module.css')\r\n\r\ninterface IEditItem {\r\n    show: boolean\r\n    item: IPortfolioItem\r\n    close(): void\r\n}\r\n\r\nconst EditItem: React.FunctionComponent<IEditItem> = ({ show, item, close }): JSX.Element => {\r\n    const [sending, setSending] = React.useState<boolean>(false)\r\n    const authContext: IAuthContext = React.useContext(AuthContext)\r\n\r\n    const editItem = (item: IPortfolioItem) => {\r\n        if (authContext.state.signedIn) {\r\n            setSending(true)\r\n            const baseURL: string = 'https://joonajo-portfolio.firebaseio.com/items/'\r\n            const title: string = item.title + \".json\"\r\n            const tokenParam: string = `?auth=${authContext.state.idToken}`\r\n    \r\n            fetch(baseURL + title + tokenParam, { method: 'put', body: JSON.stringify(item) }).then(response => response.json()\r\n                .then(data => {\r\n                    setSending(false)\r\n                })).catch(e => {\r\n                    setSending(false)\r\n                })\r\n            close()\r\n        }\r\n    }\r\n\r\n    const containerStyles = [\r\n        css.EditItemContainer,\r\n        show && css.show\r\n    ].join(' ')\r\n\r\n    return (\r\n        <>\r\n            <div className={containerStyles}>\r\n                <ItemForm type={formTypes.EDIT} show={show} sending={sending} item={item} close={close} add={editItem} />\r\n            </div>\r\n            <Loading show={sending} transparent fadeout />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}